<?xml version="1.0" encoding="UTF-8"?>
<best_practices>
  <general_principles>
    <principle priority="high">
      <name>Template Adherence</name>
      <description>Strictly follow the structure of 'feature-design-template.md'. Do not add, remove, or reorder the main sections.</description>
      <rationale>Ensures consistency and predictability in all design documents.</rationale>
    </principle>
    <principle priority="high">
      <name>Clarity and Conciseness</name>
      <description>Use clear and unambiguous language. Avoid jargon where possible, and explain necessary technical terms.</description>
      <rationale>The document should be understandable to all stakeholders, including those who are not deeply familiar with the code.</rationale>
    </principle>
    <principle priority="medium">
      <name>Leverage Existing Code</name>
      <description>Before proposing new components or patterns, always check the existing codebase for reusable solutions.</description>
      <rationale>Promotes code reuse, reduces development time, and maintains consistency within the project.</rationale>
    </principle>
  </general_principles>

  <diagram_conventions>
    <convention category="Mermaid Flowcharts">
      <rule>Use flowcharts in the '概要设计' section to illustrate high-level processes and module interactions.</rule>
      <example>
        <code language="mermaid">
flowchart TD
    Client --> API_Gateway;
    API_Gateway --> Feature_Service;
    Feature_Service --> Database;
        </code>
      </example>
    </convention>
    <convention category="Mermaid Class Diagrams">
      <rule>Use class diagrams in the '数据模型/API设计' section to define new or modified data structures.</rule>
      <example>
        <code language="mermaid">
classDiagram
    class FeatureRequest {
        +String requestId
        +Object payload
    }
    class FeatureResponse {
        +String requestId
        +int statusCode
        +String message
    }
        </code>
      </example>
    </convention>
    <convention category="Mermaid Sequence Diagrams">
      <rule>Use sequence diagrams in the '详细设计' section to show the sequence of interactions between components for a specific workflow.</rule>
      <example>
        <code language="mermaid">
sequenceDiagram
    participant User
    participant System
    User->>System: Submit Data
    activate System
    System->>System: Process Data
    System-->>User: Return Result
    deactivate System
        </code>
      </example>
    </convention>
  </diagram_conventions>

  <quality_checklist>
    <category name="Before Finalizing">
      <item>Does the design fully address all user requirements?</item>
      <item>Are all diagrams (flowchart, class, sequence) clear and accurate?</item>
      <item>Are the implementation changes clear about WHERE and WHAT to change?</item>
      <item>Have all sections of the template been filled out appropriately?</item>
    </category>
  </quality_checklist>
</best_practices>